# =============================================================================
# Noema Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local or any file containing real credentials
# =============================================================================

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# PostgreSQL - Primary Database
# -----------------------------------------------------------------------------
# Each service has its own database following database-per-service pattern
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
POSTGRES_USER=noema
POSTGRES_PASSWORD=noema_dev_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=noema

# Service-specific database URLs
DATABASE_URL_USER=postgresql://noema:noema_dev_password@localhost:5432/noema_user
DATABASE_URL_CONTENT=postgresql://noema:noema_dev_password@localhost:5432/noema_content
DATABASE_URL_SCHEDULER=postgresql://noema:noema_dev_password@localhost:5432/noema_scheduler
DATABASE_URL_SESSION=postgresql://noema:noema_dev_password@localhost:5432/noema_session
DATABASE_URL_GAMIFICATION=postgresql://noema:noema_dev_password@localhost:5432/noema_gamification
DATABASE_URL_KNOWLEDGE_GRAPH=postgresql://noema:noema_dev_password@localhost:5432/noema_knowledge_graph
DATABASE_URL_METACOGNITION=postgresql://noema:noema_dev_password@localhost:5432/noema_metacognition
DATABASE_URL_STRATEGY=postgresql://noema:noema_dev_password@localhost:5432/noema_strategy
DATABASE_URL_INGESTION=postgresql://noema:noema_dev_password@localhost:5432/noema_ingestion
DATABASE_URL_ANALYTICS=postgresql://noema:noema_dev_password@localhost:5432/noema_analytics
DATABASE_URL_SYNC=postgresql://noema:noema_dev_password@localhost:5432/noema_sync
DATABASE_URL_NOTIFICATION=postgresql://noema:noema_dev_password@localhost:5432/noema_notification
DATABASE_URL_MEDIA=postgresql://noema:noema_dev_password@localhost:5432/noema_media
DATABASE_URL_COLLABORATION=postgresql://noema:noema_dev_password@localhost:5432/noema_collaboration

# -----------------------------------------------------------------------------
# Redis - Cache, Sessions, Event Bus
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Qdrant - Vector Database
# -----------------------------------------------------------------------------
QDRANT_URL=http://localhost:6333
QDRANT_HOST=localhost
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
# QDRANT_API_KEY=

# -----------------------------------------------------------------------------
# MinIO - Object Storage (S3-Compatible)
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ROOT_USER=noema
MINIO_ROOT_PASSWORD=noema_minio_password
MINIO_USE_SSL=false
MINIO_BUCKET_CONTENT=content
MINIO_BUCKET_MEDIA=media
MINIO_BUCKET_EXPORTS=exports
MINIO_BUCKET_IMPORTS=imports

# -----------------------------------------------------------------------------
# LLM API Keys - AI Services
# -----------------------------------------------------------------------------
# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_ORG_ID=
OPENAI_MODEL=gpt-4o

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# -----------------------------------------------------------------------------
# JWT & Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# -----------------------------------------------------------------------------
# Service Ports
# -----------------------------------------------------------------------------
# Node.js Services (3000-3099)
PORT_USER_SERVICE=3001
PORT_CONTENT_SERVICE=3002
PORT_SCHEDULER_SERVICE=3003
PORT_SESSION_SERVICE=3004
PORT_GAMIFICATION_SERVICE=3005
PORT_KNOWLEDGE_GRAPH_SERVICE=3006
PORT_METACOGNITION_SERVICE=3007
PORT_STRATEGY_SERVICE=3008
PORT_INGESTION_SERVICE=3009
PORT_ANALYTICS_SERVICE=3010
PORT_SYNC_SERVICE=3011
PORT_VECTOR_SERVICE=3012
PORT_NOTIFICATION_SERVICE=3013
PORT_MEDIA_SERVICE=3014
PORT_COLLABORATION_SERVICE=3015

# Python Agents (8000-8099)
PORT_LEARNING_AGENT=8001
PORT_DIAGNOSTIC_AGENT=8002
PORT_STRATEGY_AGENT=8003
PORT_CONTENT_GENERATION_AGENT=8004
PORT_INGESTION_AGENT=8005
PORT_KNOWLEDGE_GRAPH_AGENT=8006
PORT_SOCRATIC_TUTOR_AGENT=8007
PORT_CALIBRATION_AGENT=8008
PORT_GOVERNANCE_AGENT=8009
PORT_TAXONOMY_CURATOR_AGENT=8010

# -----------------------------------------------------------------------------
# Email / SMTP (Development - use Mailpit)
# -----------------------------------------------------------------------------
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@noema.local

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=noema

# Jaeger
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# -----------------------------------------------------------------------------
# Development Tools Ports
# -----------------------------------------------------------------------------
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@noema.local
PGADMIN_PASSWORD=admin
REDIS_COMMANDER_PORT=8081
MINIO_CONSOLE_PORT=9001
MAILPIT_WEB_PORT=8025

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_DEBUG_LOGGING=true
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_PROFILING=false

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
